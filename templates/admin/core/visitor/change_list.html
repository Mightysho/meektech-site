{% extends "admin/change_list.html" %}
{% load static %}

{# ================= TOP TOOLBAR (SPECTRA SAFE) ================= #}
{% block search %}
<div class="d-flex gap-2 align-items-center">

    {{ block.super }}

    <!-- Export by Date Range -->
    <a href="{% url 'admin:visitor_export_date_range' %}"
       class="btn btn-outline-primary btn-sm"
       title="Export visitors by date range">
        <i class="ri-download-cloud-2-line"></i>
        Export
    </a>

</div>
{% endblock %}


{# ================= MAIN CONTENT AREA ================= #}
{% block extrahead %}
  {{ block.super }}
    <script>
        // Expose API key for dynamic loader. Use escapejs to avoid breaking JS.
        window.GOOGLE_MAPS_API_KEY = "{{ GOOGLE_MAPS_API_KEY|escapejs }}";
    </script>
{% endblock %}

{% block content %}
    {{ block.super }}

    <!-- Map Container -->
    <div id="visitor-map-wrapper" style="margin-top:20px; display:none;">
        <h3>Visitor Location</h3>
        <div id="visitor-map"
            style="
                width:100%;
                height:400px;
                border:2px solid #cbd5e1;   /* square border */
                border-radius:6px;          /* subtle rounding */
                background:#f8fafc;
            ">
        </div>
    </div>
{% endblock %}

